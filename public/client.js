"use strict";!function(){let t;kontra.init(),kontra.initKeys();let e={};const o=t=>{const o=kontra.Sprite({type:"player",id:t.id,x:t.x,y:t.y,radius:30,render(){this.context.strokeStyle="black",this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.context.stroke()}});e[o.id]=o};window.addEventListener("load",function(){t=io({upgrade:!1,transports:["websocket"]});const e=document.querySelector("canvas#ctx").getContext("2d");e.font="30px Roboto",t.on("currentPlayers",t=>{Object.keys(t).forEach(e=>{o(t[e])})}),t.on("newPosition",t=>{e.clearRect(0,0,500,500);for(let o=0;o<t.length;o++){let n=t[o];console.log(n),e.strokeStyle="black",e.beginPath(),e.arc(n.x,n.y,30,0,2*Math.PI),e.stroke()}});const n={68:"right",65:"left",87:"up",83:"down"};document.onkeydown=(e=>{t.emit("keyPress",{inputId:n[e.keyCode],state:!0})}),document.onkeyup=(e=>{t.emit("keyPress",{inputId:n[e.keyCode],state:!1})})},!1)}();